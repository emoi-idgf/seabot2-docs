<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="simulator_8h" kind="file" language="C++">
    <compoundname>simulator.h</compoundname>
    <includes local="no">eigen3/Eigen/Dense</includes>
    <includes refid="kalman_8h" local="yes">seabot2_kalman/kalman.h</includes>
    <includes refid="depth__control_8h" local="yes">seabot2_depth_control/depth_control.h</includes>
    <includes refid="mission_8hpp" local="yes">seabot2_mission/mission.hpp</includes>
    <includes local="no">random</includes>
    <includes local="yes">rosbag2_cpp/writer.hpp</includes>
    <includes refid="temperature__profile_8h" local="yes">seabot2_temperature_profile/temperature_profile.h</includes>
    <includes refid="TeosSea_8h" local="yes">TeosCpp/TeosSea.h</includes>
    <includedby refid="simulator__node_8hpp" local="yes">/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator_node.hpp</includedby>
    <includedby refid="simulator__binding_8cpp" local="yes">/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/python/simulator_binding.cpp</includedby>
    <includedby refid="simulator_8cpp" local="yes">/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/src/simulator.cpp</includedby>
    <incdepgraph>
      <node id="7">
        <label>seabot2_depth_control/alpha_solver.h</label>
        <link refid="alpha__solver_8h_source"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>seabot2_depth_control/depth_control.h</label>
        <link refid="depth__control_8h_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>seabot2_mission/mission.hpp</label>
        <link refid="mission_8hpp_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>seabot2_mission/waypoint.hpp</label>
        <link refid="waypoint_8hpp_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>SaarDataHandler.h</label>
        <link refid="SaarDataHandler_8h_source"/>
      </node>
      <node id="22">
        <label>TeosBase.h</label>
        <link refid="TeosBase_8h_source"/>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="21">
        <label>TeosCpp/TeosSea.h</label>
        <link refid="TeosSea_8h_source"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>gsw_structs.h</label>
        <link refid="gsw__structs_8h_source"/>
      </node>
      <node id="3">
        <label>seabot2_kalman/kalman.h</label>
        <link refid="kalman_8h_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>seabot2_temperature_profile/temperature_profile.h</label>
        <link refid="temperature__profile_8h_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h</label>
        <link refid="simulator_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>array</label>
      </node>
      <node id="14">
        <label>boost/property_tree/ptree.hpp</label>
      </node>
      <node id="5">
        <label>cmath</label>
      </node>
      <node id="25">
        <label>complex</label>
      </node>
      <node id="20">
        <label>deque</label>
      </node>
      <node id="2">
        <label>eigen3/Eigen/Dense</label>
      </node>
      <node id="27">
        <label>errno.h</label>
      </node>
      <node id="16">
        <label>filesystem</label>
      </node>
      <node id="26">
        <label>list</label>
      </node>
      <node id="24">
        <label>math.h</label>
      </node>
      <node id="17">
        <label>random</label>
      </node>
      <node id="4">
        <label>rclcpp/rclcpp.hpp</label>
      </node>
      <node id="18">
        <label>rosbag2_cpp/writer.hpp</label>
      </node>
      <node id="13">
        <label>seabot2_msgs/msg/depth_control_set_point.hpp</label>
      </node>
      <node id="12">
        <label>seabot2_msgs/msg/mission_state.hpp</label>
      </node>
      <node id="15">
        <label>string</label>
      </node>
      <node id="23">
        <label>string.h</label>
      </node>
      <node id="9">
        <label>vector</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1">
        <label>/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h</label>
        <link refid="simulator_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator_node.hpp</label>
        <link refid="simulator__node_8hpp_source"/>
      </node>
    </invincdepgraph>
    <innerclass refid="classWaveGenerator" prot="public">WaveGenerator</innerclass>
    <innerclass refid="classSimulator" prot="public">Simulator</innerclass>
    <sectiondef kind="define">
      <memberdef kind="define" id="simulator_8h_1a3c9a05feff11d3b079a7fa1c841b6990" prot="public" static="no">
        <name>SIMU_NB_STATES</name>
        <initializer>5</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="48" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="48" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1aa61a6c32d7187d20f8ea4171b8bf8dd7" prot="public" static="no">
        <name>MOTOR_STOP</name>
        <initializer>2000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="50" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="50" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1a1fbe6f90148adcd62ff228574c0cf7bb" prot="public" static="no">
        <name>MOTOR_DEAD_ZONE</name>
        <initializer>50</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="51" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="51" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1a4a5fc1a943b790ef8545dc8d84ccdf53" prot="public" static="no">
        <name>MOTOR_DOWN</name>
        <initializer>500</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="52" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="52" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1a08941448ea359782adb756fd4cdbe03a" prot="public" static="no">
        <name>MOTOR_UP</name>
        <initializer>3500</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="53" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="53" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1a9d6643344b252c03c0bd98b55f445256" prot="public" static="no">
        <name>REGULATION_LOOP_FREQ</name>
        <initializer>50</initializer>
        <briefdescription>
<para>******* dsPic control loop ******* /// </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="186" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="186" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1a37cfd6cc849304e24c56938d1a50ba29" prot="public" static="no">
        <name>MOTOR_PWM_MAX</name>
        <initializer>4000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="187" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="187" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="simulator_8h_1abf5e25413cb2bd973303d61c1dca79f5" prot="public" static="no">
        <name>MOTOR_V_TO_CMD</name>
        <initializer>MOTOR_PWM_MAX/(2*16)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" line="188" column="9" bodyfile="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h" bodystart="188" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Created<sp/>by<sp/>lemezoth<sp/>on<sp/>06/11/22.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>BUILD_SIMULATOR_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUILD_SIMULATOR_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;eigen3/Eigen/Dense&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;seabot2_kalman/kalman.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;seabot2_depth_control/depth_control.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;seabot2_mission/mission.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;random&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;rosbag2_cpp/writer.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;seabot2_temperature_profile/temperature_profile.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;TeosCpp/TeosSea.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//using<sp/>namespace<sp/>std::chrono_literals;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">Eigen;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="classWaveGenerator" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classWaveGenerator" kindref="compound">WaveGenerator</ref>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classWaveGenerator" kindref="compound">WaveGenerator</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>amplitude,</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>period,</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>phase,</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>offset,</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>water_velocity,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_contraction<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>starting_time<sp/>=<sp/>0.0,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>duration<sp/>=<sp/>0.0){</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>amplitude_<sp/>=<sp/>amplitude;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>period_<sp/>=<sp/>period;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phase_<sp/>=<sp/>phase;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset_<sp/>=<sp/>offset;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>water_velocity_<sp/>=<sp/>water_velocity;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_contraction_<sp/>=<sp/>is_contraction;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>starting_time_<sp/>=<sp/>starting_time;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>duration_<sp/>=<sp/>duration;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>amplitude_{},<sp/>period_{},<sp/>phase_{},<sp/>offset_{},<sp/>starting_time_{},<sp/>duration_{};</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_contraction_{},<sp/>water_velocity_{};</highlight></codeline>
<codeline lineno="46"><highlight class="normal">};</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SIMU_NB_STATES<sp/>5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_STOP<sp/>2000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_DEAD_ZONE<sp/>50</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_DOWN<sp/>500</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_UP<sp/>3500</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="classSimulator" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classSimulator" kindref="compound">Simulator</ref>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSimulator" kindref="compound">Simulator</ref>();</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>Matrix&lt;double,<sp/>SIMU_NB_STATES,<sp/>1&gt;<sp/><ref refid="classSimulator_1ab0d77b6cec7f274d6d84b02f6f70fff3" kindref="member">f</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Matrix&lt;double,<sp/>SIMU_NB_STATES,<sp/>1&gt;<sp/>&amp;x,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pwm=MOTOR_STOP);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a471e35f758f29960dbeef1c22278e858" kindref="member">run_simulation</ref>();</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>salinity_from_depth(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>z);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_computation(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>velocity)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_derivative_computation(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>velocity)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature_from_depth(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>z);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>get_density_from_depth(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>z,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sea_pressure);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ac3d2e60e6e57223301362e335a3576d5" kindref="member">control_pwm</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>position_set_point);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>simulate_sensors();</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>simulate_piston_position();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1aa0435637bddcb053d0c2c18276d7815d" kindref="member">save_data</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>rclcpp::Time<sp/>&amp;time);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>write_to_file_fz()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>init_bag_writer();</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>find_index_center_thermocline();</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>init_wave_file();</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>std::array&lt;double,<sp/>3&gt;<sp/>compute_wave(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>water_velocity=</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>compute_std_generators();</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>depth_from_temperature(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unique_ptr&lt;rosbag2_cpp::Writer&gt;<sp/>bag_writer_;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="102" refid="classSimulator_1a9119d912550ec6533487c48840a442b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/><ref refid="classSimulator_1a9119d912550ec6533487c48840a442b3" kindref="member">start_time_</ref>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/>end_time_=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>dt_<sp/>=<sp/>1000us;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/>t_<sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nb_steps<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>state<sp/>variable<sp/>x_</highlight></codeline>
<codeline lineno="108"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>x[0]<sp/>:<sp/>theta<sp/>(motor)</highlight></codeline>
<codeline lineno="109"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>x[1]<sp/>:<sp/>dtheta<sp/>(motor)</highlight></codeline>
<codeline lineno="110"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>x[2]<sp/>:<sp/>i<sp/>(current)</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>x[3]<sp/>:<sp/>dz<sp/>(velocity)</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>x[4]<sp/>:<sp/>z<sp/>(depth)</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>Matrix&lt;double,<sp/>SIMU_NB_STATES,<sp/>1&gt;<sp/>x_<sp/>=<sp/>Matrix&lt;double,<sp/>SIMU_NB_STATES,<sp/>1&gt;::Zero();</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>motor_cmd_<sp/>=<sp/>MOTOR_STOP;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>salinity_{},<sp/>rho_{},<sp/>g_{};</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sea_pressure_{};<sp/></highlight><highlight class="comment">//<sp/>Sea<sp/>pressure<sp/>at<sp/>depth<sp/>z<sp/>in<sp/>dbar<sp/>(0<sp/>dbar<sp/>at<sp/>depth<sp/>0.0m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>abs_pressure_{};<sp/></highlight><highlight class="comment">//<sp/>Absolute<sp/>pressure<sp/>at<sp/>depth<sp/>z<sp/>in<sp/>Pa<sp/>(101325<sp/>Pa<sp/>at<sp/>depth<sp/>0.0m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>piston_volume_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_total_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_air_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_antenna_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature_degree_<sp/>=<sp/>10.0;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="classSimulator_1ae45c2ccccf90a5ce1f78840c86990dc9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ae45c2ccccf90a5ce1f78840c86990dc9" kindref="member">latitude_</ref><sp/>=<sp/>48.368894;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>seafloor_depth_<sp/>=<sp/>40.0;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>seafloor_hardness_<sp/>=<sp/>0.8;<sp/></highlight><highlight class="comment">//<sp/>Absorption<sp/>of<sp/>velocity<sp/>when<sp/>impact<sp/>with<sp/>seafloor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>salinity_cst_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>robot_mass_<sp/>=<sp/><sp/>12.0;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>robot_added_mass_<sp/>=<sp/><sp/>2.51;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>robot_diameter_<sp/>=<sp/><sp/>0.125;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>screw_thread_<sp/>=<sp/><sp/>1.e-3;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tick_per_turn_<sp/>=<sp/><sp/>2048*4;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>piston_diameter_<sp/>=<sp/><sp/>0.045;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>piston_max_tick_<sp/>=<sp/><sp/>1146880;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>screw_Radius_<sp/>=<sp/>6e-3;<sp/></highlight></codeline>
<codeline lineno="138" refid="classSimulator_1acbaedc453de31ebd0ec5614a1ac5a5d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1acbaedc453de31ebd0ec5614a1ac5a5d6" kindref="member">screw_FrictionCoefficient_</ref><sp/>=<sp/>0.2;<sp/></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>double<sp/>S_<sp/>=<sp/>M_PI*pow(robot_diameter_/2.0,<sp/>2);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141" refid="classSimulator_1a8cd6a0ec48f9f92723d0e5a270e2c9ed" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a8cd6a0ec48f9f92723d0e5a270e2c9ed" kindref="member">battery_tension_</ref><sp/>=<sp/>16.0;<sp/></highlight></codeline>
<codeline lineno="142" refid="classSimulator_1a04857dbaa2263331360f8fc1faea07b4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a04857dbaa2263331360f8fc1faea07b4" kindref="member">volume_equilibrium_</ref><sp/>=<sp/>90e-6;<sp/></highlight></codeline>
<codeline lineno="143" refid="classSimulator_1a2d658f2a396a210077fca8f2045f3b86" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a2d658f2a396a210077fca8f2045f3b86" kindref="member">chi_</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>chi2_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_air_V0_<sp/>=<sp/>15e-6;<sp/></highlight><highlight class="comment">//15e-6;<sp/>///<sp/>m3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_air_P0_<sp/>=<sp/>101325.0;<sp/></highlight></codeline>
<codeline lineno="147" refid="classSimulator_1a55f8d7a5740f42136709cac457ff4476" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a55f8d7a5740f42136709cac457ff4476" kindref="member">volume_air_T0_</ref><sp/>=<sp/>(273.15+15.0);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>volume_air_nR_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="classSimulator_1af5a36048540efbd378562fb1ab0ecc08" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1af5a36048540efbd378562fb1ab0ecc08" kindref="member">fz_model_boundary_velocity_positive_</ref><sp/>=<sp/>0.267911611144239;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_model_boundary_velocity_negative_<sp/>=<sp/>-0.272937623109179;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_derivative_at_model_boundary_positive_<sp/>=<sp/>fz_derivative_computation(<ref refid="classSimulator_1af5a36048540efbd378562fb1ab0ecc08" kindref="member">fz_model_boundary_velocity_positive_</ref>);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_offset_at_model_boundary_positive_<sp/>=<sp/>fz_computation(<ref refid="classSimulator_1af5a36048540efbd378562fb1ab0ecc08" kindref="member">fz_model_boundary_velocity_positive_</ref>)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>fz_derivative_at_model_boundary_positive_<sp/>*<sp/><ref refid="classSimulator_1af5a36048540efbd378562fb1ab0ecc08" kindref="member">fz_model_boundary_velocity_positive_</ref>;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_derivative_at_model_boundary_negative_<sp/>=<sp/>fz_derivative_computation(fz_model_boundary_velocity_negative_);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fz_offset_at_model_boundary_negative_<sp/>=<sp/>fz_computation(fz_model_boundary_velocity_negative_)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>fz_derivative_at_model_boundary_negative_<sp/>*<sp/>fz_model_boundary_velocity_negative_;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="164" refid="classSimulator_1a1d7f59423033d89486acf3e217e6ff65" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a1d7f59423033d89486acf3e217e6ff65" kindref="member">maxon_RotorInertia_</ref><sp/>=<sp/>9.0;<sp/></highlight></codeline>
<codeline lineno="165" refid="classSimulator_1a9ad135815ddd2ad5ef9dd4b74e36f2e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a9ad135815ddd2ad5ef9dd4b74e36f2e1" kindref="member">maxon_SpeedConstant_</ref><sp/>=<sp/>416;<sp/></highlight></codeline>
<codeline lineno="166" refid="classSimulator_1a1292ae1f3dc9d4b66288c026cee75e66" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a1292ae1f3dc9d4b66288c026cee75e66" kindref="member">maxon_TorqueConstant_</ref><sp/>=<sp/>22.9;<sp/></highlight></codeline>
<codeline lineno="167" refid="classSimulator_1ab54017e2d489cecbe6615af644348f70" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ab54017e2d489cecbe6615af644348f70" kindref="member">maxon_TerminalResistance_</ref><sp/>=<sp/>1.84;<sp/></highlight></codeline>
<codeline lineno="168" refid="classSimulator_1a99d5699c948fa117a520e7e1199b0e3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a99d5699c948fa117a520e7e1199b0e3e" kindref="member">maxon_TerminalInductance_</ref><sp/>=<sp/>0.198;<sp/></highlight></codeline>
<codeline lineno="169" refid="classSimulator_1ad297791bd6ca3513b1b9ddf5f8b50e4f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ad297791bd6ca3513b1b9ddf5f8b50e4f" kindref="member">maxon_Reduction_</ref><sp/>=<sp/>103;<sp/></highlight></codeline>
<codeline lineno="170" refid="classSimulator_1a2f8c954fd230cdae686c67ef9b4dcd76" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a2f8c954fd230cdae686c67ef9b4dcd76" kindref="member">seabot_AddedInductance_</ref><sp/>=<sp/>1.619e-3;<sp/></highlight></codeline>
<codeline lineno="171" refid="classSimulator_1abfbf7f1c401391aa39fb50a531ad1d09" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1abfbf7f1c401391aa39fb50a531ad1d09" kindref="member">seabot_AddedInductanceResistance_</ref><sp/>=<sp/>480e-3;<sp/></highlight></codeline>
<codeline lineno="172" refid="classSimulator_1a3c58e1f1fc03f521cf3fc202692f30f1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a3c58e1f1fc03f521cf3fc202692f30f1" kindref="member">rpm_to_rad_s_</ref><sp/>=<sp/><ref refid="FusionMath_8h_1ae71449b1cc6e6250b91f539153a7a0d3" kindref="member">M_PI</ref>/30.;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>J_<sp/>=<sp/><ref refid="classSimulator_1a1d7f59423033d89486acf3e217e6ff65" kindref="member">maxon_RotorInertia_</ref><sp/>*<sp/>1e-7;<sp/></highlight></codeline>
<codeline lineno="174" refid="classSimulator_1a314777af478cb0ed5781e148ea812ddf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a314777af478cb0ed5781e148ea812ddf" kindref="member">Ke_</ref><sp/>=<sp/>1./(<ref refid="classSimulator_1a9ad135815ddd2ad5ef9dd4b74e36f2e1" kindref="member">maxon_SpeedConstant_</ref>*<ref refid="classSimulator_1a3c58e1f1fc03f521cf3fc202692f30f1" kindref="member">rpm_to_rad_s_</ref>);<sp/></highlight></codeline>
<codeline lineno="175" refid="classSimulator_1ab1b31c2398d75bfdceddc38e8214c2cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ab1b31c2398d75bfdceddc38e8214c2cd" kindref="member">Kt_</ref><sp/>=<sp/><ref refid="classSimulator_1a1292ae1f3dc9d4b66288c026cee75e66" kindref="member">maxon_TorqueConstant_</ref>*1e-3;<sp/></highlight></codeline>
<codeline lineno="176" refid="classSimulator_1ae204bddc0716b1e574a98f2541c290b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ae204bddc0716b1e574a98f2541c290b1" kindref="member">R_</ref><sp/>=<sp/><ref refid="classSimulator_1ab54017e2d489cecbe6615af644348f70" kindref="member">maxon_TerminalResistance_</ref><sp/>+<sp/><ref refid="classSimulator_1abfbf7f1c401391aa39fb50a531ad1d09" kindref="member">seabot_AddedInductanceResistance_</ref>;<sp/></highlight></codeline>
<codeline lineno="177" refid="classSimulator_1ad6e06e34d8c9b331a7451320183e85fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ad6e06e34d8c9b331a7451320183e85fe" kindref="member">L_</ref><sp/>=<sp/><ref refid="classSimulator_1a99d5699c948fa117a520e7e1199b0e3e" kindref="member">maxon_TerminalInductance_</ref>*1e-3<sp/>+<sp/><ref refid="classSimulator_1a2f8c954fd230cdae686c67ef9b4dcd76" kindref="member">seabot_AddedInductance_</ref>;<sp/></highlight></codeline>
<codeline lineno="178" refid="classSimulator_1a8e6b6c05025843ca24f21025917d73e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a8e6b6c05025843ca24f21025917d73e4" kindref="member">rad_to_tick_</ref><sp/>=<sp/>tick_per_turn_/(2*<ref refid="FusionMath_8h_1ae71449b1cc6e6250b91f539153a7a0d3" kindref="member">M_PI</ref>*<ref refid="classSimulator_1ad297791bd6ca3513b1b9ddf5f8b50e4f" kindref="member">maxon_Reduction_</ref>);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const<sp/>double<sp/>Tfstatic_<sp/>=<sp/>Kt_*20e-3;<sp/>///<sp/>20mA</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>pistonSurface_<sp/>=<sp/><ref refid="FusionMath_8h_1ae71449b1cc6e6250b91f539153a7a0d3" kindref="member">M_PI</ref>*pow(piston_diameter_/2.,2);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>i_screw_=screw_thread_/(2*screw_Radius_);<sp/></highlight></codeline>
<codeline lineno="182" refid="classSimulator_1abb0d4e245bbe3836fcacd430ef102e62" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1abb0d4e245bbe3836fcacd430ef102e62" kindref="member">force_to_torque_coeff_</ref><sp/>=<sp/>screw_Radius_*tan(<ref refid="classSimulator_1acbaedc453de31ebd0ec5614a1ac5a5d6" kindref="member">screw_FrictionCoefficient_</ref>+i_screw_);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//const<sp/>double<sp/>Tz_coeff<sp/>=<sp/>pistonSurface_<sp/>*<sp/>force_to_torque_coeff_<sp/>/<sp/>maxon_Reduction_;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="preprocessor">#define<sp/>REGULATION_LOOP_FREQ<sp/>50</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_PWM_MAX<sp/>4000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MOTOR_V_TO_CMD<sp/>MOTOR_PWM_MAX/(2*16)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>motor_delta_speed<sp/>=<sp/>(100/REGULATION_LOOP_FREQ)*MOTOR_V_TO_CMD;<sp/></highlight><highlight class="comment">//<sp/>Limit<sp/>to<sp/>100V/s,<sp/>delta_speed<sp/>in<sp/>PWM<sp/>quantum/0.02s<sp/>=<sp/>250</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/>control_pwm_last_time<sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>control_pwm_dt<sp/>=<sp/>20ms;<sp/></highlight></codeline>
<codeline lineno="192" refid="classSimulator_1a1254b6408303bf7950ada3ae943b26f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a1254b6408303bf7950ada3ae943b26f9" kindref="member">switch_top_</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>switch_bottom_<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>motor_set_point_<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>motor_regulation_dead_zone_<sp/>=<sp/>50;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>motor_regulation_K_<sp/>=<sp/>0.3;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="classSimulator_1aaf5d2f0775fdf2d0934ee454de241f97" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classTeosSea" kindref="compound">TeosSea</ref><sp/><ref refid="classSimulator_1aaf5d2f0775fdf2d0934ee454de241f97" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="201" refid="classSimulator_1a9282f6b397e817074e2accb8897e441f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/><ref refid="classSimulator_1a9282f6b397e817074e2accb8897e441f" kindref="member">memory_dt</ref><sp/>=<sp/>100ms;<sp/></highlight></codeline>
<codeline lineno="202" refid="classSimulator_1a8a8f5584e7140aa2b25a65bd13392fe0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/><ref refid="classSimulator_1a8a8f5584e7140aa2b25a65bd13392fe0" kindref="member">memory_last_time</ref><sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="205" refid="classSimulator_1abc60edcdcca130429cf9a0aeadb06780" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKalman" kindref="compound">Kalman</ref><sp/><ref refid="classSimulator_1abc60edcdcca130429cf9a0aeadb06780" kindref="member">k_</ref>;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="208" refid="classSimulator_1acfa5af21e5548713b942ea1b37873882" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classTemperatureProfile" kindref="compound">TemperatureProfile</ref><sp/><ref refid="classSimulator_1acfa5af21e5548713b942ea1b37873882" kindref="member">tp_</ref>;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="211" refid="classSimulator_1af7aea476d9b43ace861c2a790dec4673" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/><ref refid="classSimulator_1af7aea476d9b43ace861c2a790dec4673" kindref="member">pressure_sensor_last_time</ref><sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>pressure_sensor_dt<sp/>=<sp/>200ms;<sp/></highlight></codeline>
<codeline lineno="213" refid="classSimulator_1a56d2834bc2da57100e2a0cc0633af9e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a56d2834bc2da57100e2a0cc0633af9e7" kindref="member">pressure_sensor_</ref><sp/>=<sp/>0.;<sp/></highlight></codeline>
<codeline lineno="214" refid="classSimulator_1ab405d36ac99525ac189db03ee3d46ca1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1ab405d36ac99525ac189db03ee3d46ca1" kindref="member">pressure_sensor_mean_</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>pressure_sensor_stddev_<sp/>=<sp/>0.002;<sp/></highlight><highlight class="comment">//<sp/>in<sp/>bar<sp/>(2mm)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>std::default_random_engine<sp/>generator_;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>std::normal_distribution&lt;double&gt;<sp/>pressure_sensor_dist_;<sp/></highlight><highlight class="comment">//{pressure_sensor_mean_,<sp/>pressure_sensor_stddev_};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature_sensor_<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature_sensor_stddev_<sp/>=<sp/>0.02;<sp/></highlight><highlight class="comment">//<sp/>in<sp/>C</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>std::default_random_engine<sp/>generator_temperature_;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>std::normal_distribution&lt;double&gt;<sp/>temperature_sensor_dist_;<sp/></highlight><highlight class="comment">//{0.0,<sp/>temperature_sensor_stddev_};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temperature_sensor_coeff_<sp/>=<sp/>0.04;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="classSimulator_1ad1b7d3fd7fe05173402477463dc293e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/><ref refid="classSimulator_1ad1b7d3fd7fe05173402477463dc293e3" kindref="member">piston_last_time_</ref><sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>piston_dt_<sp/>=<sp/>200ms;<sp/></highlight></codeline>
<codeline lineno="227" refid="classSimulator_1aa7cd07927500a7e13ffd7af5cbdeb56c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1aa7cd07927500a7e13ffd7af5cbdeb56c" kindref="member">piston_position_</ref><sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="230" refid="classSimulator_1a00df92e168d72eb90fbdb9dfe48e4966" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/><ref refid="classSimulator_1a00df92e168d72eb90fbdb9dfe48e4966" kindref="member">temperature_last_time_</ref><sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>temperature_dt_<sp/>=<sp/>200ms;<sp/></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="classSimulator_1aa110340aa2907a43ad1fef9d63136988" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1aa110340aa2907a43ad1fef9d63136988" kindref="member">fusion_depth_</ref>{},<sp/>fusion_velocity_{};</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="classSimulator_1af442e96d0cc5925c6e3f59f66d6eeb51" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classDepthControl" kindref="compound">DepthControl</ref><sp/><ref refid="classSimulator_1af442e96d0cc5925c6e3f59f66d6eeb51" kindref="member">dc_</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/>dc_last_time_<sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>dc_dt_<sp/>=<sp/>200ms;<sp/></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="classSimulator_1ac7796c7464a4d18a820c715eed6b3130" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/><ref refid="classSimulator_1ac7796c7464a4d18a820c715eed6b3130" kindref="member">solver_velocity_</ref>,<sp/>solver_alpha_;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="244" refid="classSimulator_1ae48fb7d66c9da4ef38de97ab788ffcf5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classMission" kindref="compound">Mission</ref><sp/><ref refid="classSimulator_1ae48fb7d66c9da4ef38de97ab788ffcf5" kindref="member">mission_</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Time<sp/>mission_last_time_<sp/>=<sp/>rclcpp::Time(0.,<sp/>RCL_ROS_TIME);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>mission_dt_<sp/>=<sp/>1s;<sp/></highlight></codeline>
<codeline lineno="247" refid="classSimulator_1a334a014a7cd99d9b9166103c4a28be15" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a334a014a7cd99d9b9166103c4a28be15" kindref="member">mission_file_name_</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>mission_path_<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;./&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>mission_delay_before_start_<sp/>=<sp/>10s;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>rclcpp::Duration<sp/>mission_delay_after_end_<sp/>=<sp/>120s;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="253" refid="classSimulator_1a6fdfc696fdde90b774bfe4bd686fbd8a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="classSimulator_1a6fdfc696fdde90b774bfe4bd686fbd8a" kindref="member">bag_path_</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;./mission&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="classSimulator_1a17e482d24bbb3784ded56f96f6eb3ace" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/><ref refid="classSimulator_1a17e482d24bbb3784ded56f96f6eb3ace" kindref="member">temperature_profile_depth_</ref>;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>temperature_profile_temperature_;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="260" refid="classSimulator_1a42a1975b92d3f041eb8e0f502ad5415c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="classSimulator_1a42a1975b92d3f041eb8e0f502ad5415c" kindref="member">index_center_thermocline_</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>thermocline_depth_<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;WaveGenerator&gt;<sp/>wave_generators_;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>wave_file_name_<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal">};</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//BUILD_SIMULATOR_H</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_simulator/include/seabot2_simulator/simulator.h"/>
  </compounddef>
</doxygen>
