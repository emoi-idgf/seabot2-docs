<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="log__data_8cpp" kind="file" language="C++">
    <compoundname>log_data.cpp</compoundname>
    <includes refid="log__data_8h" local="yes">seabot2_iridium_driver/sbd/log_data.h</includes>
    <includes local="yes">boost/filesystem.hpp</includes>
    <includes local="no">boost/multiprecision/cpp_int.hpp</includes>
    <includes local="no">iostream</includes>
    <includes local="no">iterator</includes>
    <includes local="no">fstream</includes>
    <includes local="no">string</includes>
    <includes local="no">chrono</includes>
    <incdepgraph>
      <node id="2">
        <label>seabot2_iridium_driver/sbd/log_data.h</label>
        <link refid="log__data_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>/home/tristanlf/seabot2/seabot2-ros/src/seabot2_driver/seabot2_iridium_driver/src/sbd/log_data.cpp</label>
        <link refid="log__data_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>boost/filesystem.hpp</label>
      </node>
      <node id="5">
        <label>boost/multiprecision/cpp_int.hpp</label>
      </node>
      <node id="10">
        <label>chrono</label>
      </node>
      <node id="9">
        <label>fstream</label>
      </node>
      <node id="7">
        <label>iostream</label>
      </node>
      <node id="8">
        <label>iterator</label>
      </node>
      <node id="3">
        <label>string</label>
      </node>
      <node id="4">
        <label>vector</label>
      </node>
    </incdepgraph>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="log__data_8h" kindref="compound">seabot2_iridium_driver/sbd/log_data.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;boost/filesystem.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;boost/multiprecision/cpp_int.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iterator&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;fstream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;chrono&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">boost::multiprecision::cpp_int;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="classLogData_1ac7d8e8285e050694af109058cfb5e608" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classLogData_1ac7d8e8285e050694af109058cfb5e608" kindref="member">LogData::deserialize_log_CMD_sleep</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>message)</highlight></codeline>
<codeline lineno="16"><highlight class="normal">{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Deserialize<sp/>log<sp/>sleep&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><ref refid="log__data_8h_1a80a9575483aadebf61d7f74ea0741932" kindref="member">uint_cmd_sleep_t</ref><sp/>data<sp/>=<sp/>(<ref refid="log__data_8h_1a80a9575483aadebf61d7f74ea0741932" kindref="member">uint_cmd_sleep_t</ref>(1)<sp/>&lt;&lt;<sp/><ref refid="log__data_8h_1ac48e62e855cf32f23972f64070dae350" kindref="member">NB_BITS_CMD_SLEEP</ref>)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/>memcpy(data.backend().limbs(),<sp/>message.c_str(),<sp/>message.size());</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bit_position<sp/>=<sp/>4;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_sleep_t&gt;(data,<sp/>12,<sp/>bit_position,<sp/><ref refid="classLogData_1a1c4b71dd9a1189b11f38ebc3e89c5253" kindref="member">sleep_time_</ref>);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="25"><highlight class="normal">}</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="classLogData_1ac03c8d72a6a6cbff4802856218d31451" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classLogData_1ac03c8d72a6a6cbff4802856218d31451" kindref="member">LogData::deserialize_log_CMD_parameters</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>message)</highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Deserialize<sp/>log<sp/>parameters&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><ref refid="log__data_8h_1ada34a9d27295d3ea3eaf4d2446864853" kindref="member">uint_cmd_parameters_t</ref><sp/>data;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>memcpy(data.backend().limbs(),<sp/>message.c_str(),<sp/>message.size());</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bit_position<sp/>=<sp/>4;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_parameters_t&gt;(data,<sp/>1,<sp/>bit_position,<sp/><ref refid="classLogData_1ab38e39b11b4696163e097163e9287b7b" kindref="member">enable_mission_</ref>);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_parameters_t&gt;(data,<sp/>1,<sp/>bit_position,<sp/><ref refid="classLogData_1a8db6160adddb878da4142ddb6bc5b1bf" kindref="member">enable_flash_</ref>);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_parameters_t&gt;(data,<sp/>1,<sp/>bit_position,<sp/><ref refid="classLogData_1a9d9dae91feb3ab2498f2c84b1952c5a6" kindref="member">enable_depth_</ref>);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_parameters_t&gt;(data,<sp/>1,<sp/>bit_position,<sp/><ref refid="classLogData_1a658f0eb5c2079149412997f80bb2f5c1" kindref="member">enable_engine_</ref>);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_parameters_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/><ref refid="classLogData_1a52f84dba6a1758c343f558696fa5e4dd" kindref="member">period_message_</ref>);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="43"><highlight class="normal">}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="classLogData_1afd254b3f96a1d5ac95177b84d920153c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classLogData_1afd254b3f96a1d5ac95177b84d920153c" kindref="member">LogData::deserialize_log_CMD_waypoint</ref>(</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;<sp/>message,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>&amp;<sp/>bit_position)</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>message_wp_type<sp/>=<sp/>message.substr(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(bit_position<sp/>/<sp/>8),</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="log__data_8h_1ac5e564afcd175f48aa4932511f8e164e" kindref="member">NB_BITS_CMD_WAYPOINT_TYPE</ref><sp/>/<sp/>8));</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><ref refid="log__data_8h_1a4427632a6b395bb0fce92616f14c50b0" kindref="member">uint_cmd_waypoint_type_t</ref><sp/>data_type<sp/>=<sp/>(<ref refid="log__data_8h_1a4427632a6b395bb0fce92616f14c50b0" kindref="member">uint_cmd_waypoint_type_t</ref>(1)<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1ac5e564afcd175f48aa4932511f8e164e" kindref="member">NB_BITS_CMD_WAYPOINT_TYPE</ref>)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/>memcpy(data_type.backend().limbs(),<sp/>message_wp_type.c_str(),<sp/>message_wp_type.size());</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bit_position_local<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>duration;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((data_type<sp/>&amp;<sp/>0x1)<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>message_wp_data<sp/>=<sp/>message.substr(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(bit_position<sp/>/<sp/>8),</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="log__data_8h_1a214d4d6167f1194c10f90421faf54d8b" kindref="member">NB_BITS_CMD_WAYPOINT_TRAJ</ref><sp/>/<sp/>8));</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1ae68a9b90b33bab8fd4fefbf4f81435c3" kindref="member">uint_cmd_waypoint_traj_t</ref><sp/>data_traj<sp/>=<sp/>(<ref refid="log__data_8h_1ae68a9b90b33bab8fd4fefbf4f81435c3" kindref="member">uint_cmd_waypoint_traj_t</ref>(1)<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1a214d4d6167f1194c10f90421faf54d8b" kindref="member">NB_BITS_CMD_WAYPOINT_TRAJ</ref>)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(data_traj.backend().limbs(),<sp/>message_wp_data.c_str(),<sp/>message_wp_data.size());</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>east,<sp/>north;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_traj_t&gt;(data_traj,<sp/>9,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>duration);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_traj_t&gt;(data_traj,<sp/>15,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>east);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_traj_t&gt;(data_traj,<sp/>15,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>north);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classWaypoint" kindref="compound">Waypoint</ref><sp/>w(duration<sp/>*<sp/>60.0,<sp/>0.0,<sp/>east<sp/>*<sp/>4.0<sp/>+<sp/><ref refid="classLogData_1abb6bec8954b83af189ca1311cf7d49c1" kindref="member">gnss_mean_east_</ref>,<sp/>north<sp/>*<sp/>4.0<sp/>+<sp/><ref refid="classLogData_1ab0549769f8c10f67cea7cb5a3bc9a4fc" kindref="member">gnss_mean_north_</ref>,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classLogData_1abf026bd07dd8aa1f52706f1c50c1c620" kindref="member">waypoint_list_</ref>.push_back(w);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>message_wp_data<sp/>=<sp/>message.substr(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(bit_position<sp/>/<sp/>8),</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="log__data_8h_1aafeb4652870acc88c0cd0b3b35108e7d" kindref="member">NB_BITS_CMD_WAYPOINT_DEPTH</ref><sp/>/<sp/>8));</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1a9d920b9bf7762c9ce730cd27abf528be" kindref="member">uint_cmd_waypoint_depth_t</ref><sp/>data_depth<sp/>=<sp/>(<ref refid="log__data_8h_1a9d920b9bf7762c9ce730cd27abf528be" kindref="member">uint_cmd_waypoint_depth_t</ref>(1)<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1aafeb4652870acc88c0cd0b3b35108e7d" kindref="member">NB_BITS_CMD_WAYPOINT_DEPTH</ref>)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(data_depth.backend().limbs(),<sp/>message_wp_data.c_str(),<sp/>message_wp_data.size());</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>depth;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>seafloor_landing<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_depth_t&gt;(data_depth,<sp/>9,</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>duration);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_depth_t&gt;(data_depth,<sp/>11,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>depth);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>deserialize_data&lt;uint_cmd_waypoint_depth_t&gt;(data_depth,<sp/>1,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bit_position_local,<sp/>seafloor_landing);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>bit_position_local<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classWaypoint" kindref="compound">Waypoint</ref><sp/>w(duration<sp/>*<sp/>60.0,<sp/>depth<sp/>/<sp/>4.0,<sp/>0.0,<sp/>0.0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>seafloor_landing);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classLogData_1abf026bd07dd8aa1f52706f1c50c1c620" kindref="member">waypoint_list_</ref>.push_back(w);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bit_position_local;</highlight></codeline>
<codeline lineno="98"><highlight class="normal">}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="classLogData_1a88e78f645e3ae3c424678b81a134300c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a88e78f645e3ae3c424678b81a134300c" kindref="member">LogData::deserialize_log_CMD_mission</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>message)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Deserialize<sp/>log<sp/>mission&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><ref refid="classLogData_1abf026bd07dd8aa1f52706f1c50c1c620" kindref="member">waypoint_list_</ref>.clear();</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>uint_cmd_mission_header_t<sp/>data<sp/>=<sp/>(uint_cmd_mission_header_t(1)<sp/>&lt;&lt;<sp/>NB_BITS_CMD_MISSION_HEADER)<sp/>-<sp/>1;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>memcpy(data.backend().limbs(),<sp/>message.c_str(),<sp/>NB_BITS_CMD_MISSION_HEADER/8);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>unsigned<sp/>int<sp/>bit_position<sp/>=<sp/>4;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>unsigned<sp/>int<sp/>nb_waypoints,<sp/>start_time;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_mission_header_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/>nb_waypoints);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_mission_header_t&gt;(data,<sp/>22,<sp/>bit_position,<sp/>start_time);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_mission_header_t&gt;(data,<sp/>15,<sp/>bit_position,<sp/>gnss_mean_east_,<sp/>L93_EAST_MIN,<sp/>L93_EAST_MAX);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>bit_position<sp/>+=<sp/>deserialize_data&lt;uint_cmd_mission_header_t&gt;(data,<sp/>15,<sp/>bit_position,<sp/>gnss_mean_north_,<sp/>L93_NORTH_MIN,<sp/>L93_NORTH_MAX);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>start_time_<sp/>=<sp/>REF_POSIX_TIME<sp/>+<sp/>start_time<sp/>*<sp/>60;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout<sp/>&lt;&lt;<sp/>&quot;nb_waypoints<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>nb_waypoints<sp/>&lt;&lt;<sp/>endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout<sp/>&lt;&lt;<sp/>&quot;m_start_time<sp/>time<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>start_time_<sp/>&lt;&lt;<sp/>endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout<sp/>&lt;&lt;<sp/>&quot;start_time<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>start_time<sp/>&lt;&lt;<sp/>endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout<sp/>&lt;&lt;<sp/>&quot;m_mean_north<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>gnss_mean_north_<sp/>&lt;&lt;<sp/>endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout<sp/>&lt;&lt;<sp/>&quot;m_mean_east<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>gnss_mean_east_<sp/>&lt;&lt;<sp/>endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>//<sp/>Deserialize<sp/>waypoint<sp/>list<sp/>and<sp/>add<sp/>to<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>for(size_t<sp/>i=0;<sp/>i&lt;nb_waypoints;<sp/>i++)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>bit_position<sp/>+=<sp/>deserialize_log_CMD_waypoint(message,<sp/>bit_position);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>return<sp/>true;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="classLogData_1aca2914c2e2d1bccf714e67e6456abf26" refkind="member"><highlight class="normal">std::string<sp/><ref refid="classLogData_1aca2914c2e2d1bccf714e67e6456abf26" kindref="member">LogData::serialize_log_state</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>&amp;<sp/>time)</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>all<sp/>bits<sp/>to<sp/>1<sp/>(enable<sp/>add<sp/>option)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><ref refid="log__data_8h_1adf9ad98a713d5987b08ccfb0d0db49d0" kindref="member">uint_log1_t</ref><sp/>data<sp/>=<sp/>(<ref refid="log__data_8h_1adf9ad98a713d5987b08ccfb0d0db49d0" kindref="member">uint_log1_t</ref>(1)<sp/>&lt;&lt;<sp/><ref refid="log__data_8h_1a658b9ff17ca0bc5c6ee1ac56323e0adc" kindref="member">NB_BITS_LOG1</ref>)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bit_position<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>4,<sp/>bit_position,<sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19aefda1573a760c76968816d00051a16ff" kindref="member">LOG_STATE</ref>);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>timestamped<sp/>of<sp/>the<sp/>day</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm<sp/>*<sp/>timeinfo;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/>time_t<sp/>t1<sp/>=<sp/>time;<sp/></highlight><highlight class="comment">//<sp/>current<sp/>timestamp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>timeinfo<sp/>=<sp/>gmtime(&amp;t1);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/>timeinfo-&gt;tm_hour<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/>timeinfo-&gt;tm_min<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/>timeinfo-&gt;tm_sec<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>time_t<sp/>t2<sp/>=<sp/>mktime(timeinfo);<sp/></highlight><highlight class="comment">//<sp/>timestamp<sp/>at<sp/>00:00:00<sp/>of<sp/>the<sp/>day</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>time_sec_day<sp/>=<sp/>t1<sp/>-<sp/>t2;<sp/></highlight><highlight class="comment">//<sp/>number<sp/>of<sp/>seconds<sp/>since<sp/>00:00:00<sp/>of<sp/>the<sp/>day</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>time_LQ<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(round(time_sec_day<sp/>/<sp/>3.0));</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>14,<sp/>bit_position,<sp/>time_LQ,<sp/>0,<sp/>((1<sp/>&lt;&lt;<sp/>14)<sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>25,<sp/>bit_position,<sp/><ref refid="classLogData_1a006bf445b4ae61dac1d29aa29bd3dc58" kindref="member">gnss_lat_</ref>,<sp/><ref refid="log__data_8h_1acbf82fc8e7cf6dc338db3e2edbc1a43e" kindref="member">WGS84_LAT_MIN</ref>,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1a36760d0e64849a2d52422b4aec53f5d7" kindref="member">WGS84_LAT_MAX</ref>);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>25,<sp/>bit_position,<sp/><ref refid="classLogData_1ab6fec6d6f048cbd33bc879ab5790f63f" kindref="member">gnss_long_</ref>,<sp/><ref refid="log__data_8h_1a08fdf6a29ff552cc590999c1dcc25a2c" kindref="member">WGS84_LON_MIN</ref>,</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="log__data_8h_1a652a794ed7f94664a3c14ed0ef4f4d07" kindref="member">WGS84_LON_MAX</ref>);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/><ref refid="classLogData_1a7cd510440d726844d62b6fc0c1153133" kindref="member">gnss_speed_</ref>,<sp/>0,<sp/>5.0);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/><ref refid="classLogData_1a2328f82545ee790b7064fde98cdc11bc" kindref="member">gnss_mean_heading_</ref>,<sp/>0,<sp/>359.0);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>state<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a215b780805044b81368683aea57ab2b3" kindref="member">safety_global_safety_valid_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>0;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1ace97e70198f38ca5767ae3f8c8919f43" kindref="member">safety_published_frequency_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>1;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1ab557ecc757ef00a153a18b7547ebe856" kindref="member">safety_depth_limit_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>2;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a70454d1aa1e62f82dcccf93dd10ddc5a" kindref="member">safety_batteries_limit_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>3;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a4442f061f8ede0f7dcce3d1b887960bb" kindref="member">safety_depressurization_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>4;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a0e740e0944372202073863a436654ff8" kindref="member">safety_seafloor_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>5;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a7546b2aab01e3cffc07d4e4e11966d74" kindref="member">safety_piston_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>6;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>state<sp/>|=<sp/>(<ref refid="classLogData_1a2bf42ce73af96525ccae6ddfc3fce25e" kindref="member">safety_zero_depth_</ref><sp/>&amp;<sp/>0x1)<sp/>&lt;&lt;<sp/>7;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/>state);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>6,<sp/>bit_position,<sp/><ref refid="classLogData_1ac7ce5e324a2c78219422628e3c427a87" kindref="member">battery_</ref>,<sp/><ref refid="log__data_8h_1a6d377d62681dec0ff8b30dd658a87352" kindref="member">BATT_MIN</ref>,<sp/><ref refid="log__data_8h_1ac873c87f494ea2b22e7eb5fc74ad5a82" kindref="member">BATT_MAX</ref>);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>6,<sp/>bit_position,<sp/><ref refid="classLogData_1a2173763d4b894d7b6716a073bdcc75db" kindref="member">internal_pressure_</ref>,<sp/>680.0,</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>800.0);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>6,<sp/>bit_position,<sp/><ref refid="classLogData_1aab7245681f39e4e75d017e98c7efd95b" kindref="member">internal_temperature_</ref>,<sp/>8.0,</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>50.0);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>6,<sp/>bit_position,<sp/><ref refid="classLogData_1af61522bd6cc153fbbe0c6cb677c7f77f" kindref="member">internal_humidity_</ref>,<sp/>50.0,</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>100.0);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>8,<sp/>bit_position,<sp/><ref refid="classLogData_1ae71a823ec77fb9555ad3d613198254d7" kindref="member">current_waypoint_</ref>);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/>bit_position<sp/>+=<sp/>serialize_data&lt;uint_log1_t&gt;(data,<sp/>4,<sp/>bit_position,<sp/><ref refid="classLogData_1a3152955a76aaf2aeadbf97d73bd0bb18" kindref="member">last_cmd_received_</ref>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)data.backend().limbs(),<sp/><ref refid="log__data_8h_1a658b9ff17ca0bc5c6ee1ac56323e0adc" kindref="member">NB_BITS_LOG1</ref><sp/>/<sp/>8};</highlight></codeline>
<codeline lineno="186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="classLogData_1a277f0b12a7614b7b9ff4e6c752ef0b6f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a277f0b12a7614b7b9ff4e6c752ef0b6f" kindref="member">LogData::write_file</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>file_name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>data,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nb_bits)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/>ofstream<sp/>save_file;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/>save_file.open(file_name);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!save_file.is_open())<sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>open<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>file_name<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>new<sp/>log<sp/>file<sp/>:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>errno<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/>save_file.write(data.c_str(),<sp/>nb_bits<sp/>/<sp/>8);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/>save_file.close();</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal">}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204" refid="classLogData_1adec5e67b706c873cb7a8d20876a6c081" refkind="member"><highlight class="normal">std::string<sp/><ref refid="classLogData_1adec5e67b706c873cb7a8d20876a6c081" kindref="member">LogData::read_file</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;<sp/>file_name)</highlight></codeline>
<codeline lineno="205"><highlight class="normal">{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/>std::ifstream<sp/>save_file;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/>save_file.open(file_name);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!save_file.is_open())<sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;File<sp/>cannot<sp/>be<sp/>open&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>strerror(errno)<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;file_name<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>file_name<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/>std::string<sp/>data((std::istreambuf_iterator&lt;char&gt;(save_file)),</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>std::istreambuf_iterator&lt;char&gt;());</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/>save_file.close();</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data;</highlight></codeline>
<codeline lineno="218"><highlight class="normal">}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220" refid="classLogData_1a3b7cbad4fcc481399b5b25e6b1754452" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a3b7cbad4fcc481399b5b25e6b1754452" kindref="member">LogData::deserialize_log_CMD</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>&amp;<sp/>raw_data)</highlight></codeline>
<codeline lineno="221"><highlight class="normal">{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>message_type<sp/>=<sp/>raw_data[0]<sp/>&amp;<sp/>0xF;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(message_type)<sp/>{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a646d614604aa6e59a1efcfa3b1bfbce9" kindref="member">CMD_SLEEP</ref>:</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a69026134c4c4ddb74d8d46fe17884c10" kindref="member">msg_type_</ref><sp/>=<sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a646d614604aa6e59a1efcfa3b1bfbce9" kindref="member">CMD_SLEEP</ref>;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;CMD<sp/>Sleep&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1ac7d8e8285e050694af109058cfb5e608" kindref="member">deserialize_log_CMD_sleep</ref>(raw_data);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a4fba8815876ffe1ad8136d3a458e7367" kindref="member">CMD_PARAMETERS</ref>:</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;CMD<sp/>Parameters&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a69026134c4c4ddb74d8d46fe17884c10" kindref="member">msg_type_</ref><sp/>=<sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a4fba8815876ffe1ad8136d3a458e7367" kindref="member">CMD_PARAMETERS</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1ac03c8d72a6a6cbff4802856218d31451" kindref="member">deserialize_log_CMD_parameters</ref>(raw_data);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a6a1bc712015dc8444044e0c42d21b02d" kindref="member">CMD_MISSION_NEW</ref>:</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;CMD<sp/>Mission<sp/>NEW&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a69026134c4c4ddb74d8d46fe17884c10" kindref="member">msg_type_</ref><sp/>=<sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a6a1bc712015dc8444044e0c42d21b02d" kindref="member">CMD_MISSION_NEW</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a88e78f645e3ae3c424678b81a134300c" kindref="member">deserialize_log_CMD_mission</ref>(raw_data);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a6259f3cfad37ad044a4dc84a563f147d" kindref="member">CMD_MISSION_KEEP</ref>:</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;CMD<sp/>Mission&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a69026134c4c4ddb74d8d46fe17884c10" kindref="member">msg_type_</ref><sp/>=<sp/><ref refid="classLogData_1a1936dccf5a381a560f22bd6276abaa19a6259f3cfad37ad044a4dc84a563f147d" kindref="member">CMD_MISSION_KEEP</ref>;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classLogData_1a88e78f645e3ae3c424678b81a134300c" kindref="member">deserialize_log_CMD_mission</ref>(raw_data);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;MESSAGE<sp/>TYPE<sp/>NOT<sp/>FOUND<sp/>:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(message_type)<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="251"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/tristanlf/seabot2/seabot2-ros/src/seabot2_driver/seabot2_iridium_driver/src/sbd/log_data.cpp"/>
  </compounddef>
</doxygen>
